---
title: "autumn-group-project-arya-jasmina-neenam"
author: "JR"
date: "2023-12-21"
output: html_document
---



```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r, results = 'FALSE'}
#LOAD PACKAGES
library(tidyverse)
library(janitor)
library(ggplot2)
library(lubridate)
library(dplyr)
library(maps)
library(grid)
library(patchwork)

covid <- read_csv("covid_example_data (1)(1).csv")
head(covid)

covid <- covid[!(is.na(covid$case_age)),] # omits NA from case_age data

covid <- covid[!(is.na(covid$died_covid)),] #omits NA from died_covid data

covid <- covid[!(is.na(covid$case_gender)),]#omits NA from case_gender data

#COMPARATIVE GRAPH OF AGE AND GENDER OF PATIENTS STUDIED----


pal <- c("tomato2","cornflowerblue", "lightgrey")

p1 <- covid %>% 
  ggplot(aes(x = case_gender,
             y = case_age,
             fill = case_gender,
             colour = case_gender))+
  geom_violin(alpha = 0.2)+
  geom_boxplot(width = 0.2,
               alpha = 0.6)+
  scale_fill_manual(values = pal)+
  scale_colour_manual(values = pal)+
  theme_classic()+
  theme(legend.position = "none")+
  labs(
    x = "pateint gender",
    y = "patient age",
    title = "(A) Age verses gender of patients studied",
    subtitle = "Box and violin plot of age by gender") + theme_light()

#COMPARATIVE GRAPH OF AGE AND DATE TO SHOW DEATH RATE----

pal <- c("orange", "lightgrey", "palegreen3")

p2 <- covid %>% 
  ggplot(aes(x = died_covid,
             y = case_age,
             fill = died_covid,
             colour = died_covid))+
  geom_violin(alpha = 0.2)+
  geom_boxplot(width = 0.2,
               alpha = 0.6)+
  scale_fill_manual(values = pal)+
  scale_colour_manual(values = pal)+
  theme_classic()+
  theme(legend.position = "none")+
  labs(
    x = "death of patient",
    y = "patient age",
    title = "(B) Age of patient death from covid",
    subtitle = "Box and violin plot of age by death rate") + theme_light()


(p1+p2)+
plot_layout(guides = "collect")
```

Figure 1. Plot A shows the roughly even distribution of ages of male and female patients in the data set. Plot B is a comparative plot to show the effect that a patients age has on their death rate, with a distribution being showing that the older the patient, the higher the mortality rate.



